---
import Carousel from "@/components/carousel.astro";

const projects = [
  "/projects/01 Project One.png",
  "/projects/02 Project Two.png",
  "/projects/03 Project Three.png",
  "/projects/04 Project Four.png",
  "/projects/05 Project Five.png",
  "/projects/06 Project Six.png",
];
---

<Carousel
  items={projects.length}
  itemsPerSlide={1}        <!-- one slide per viewport -->
  scrollSnap={true}        <!-- snap to slides -->
  pagination={{ type: 'dots' }} <!-- show dots -->
  className="w-full h-screen"
  wrapperClassName="flex items-center justify-center gap-[2vw]"
>
  {projects.map((src, index) => (
    <li data-active={index === 0 ? "true" : undefined} class="flex-shrink-0 w-[80vw] h-[80vh] rounded-lg overflow-hidden">
      <img src={src} alt={`Project ${index + 1}`} class="w-full h-full object-cover" />
    </li>
  ))}
</Carousel>

<style>
  /* Make mouse wheel scroll horizontally */
  [data-id="w-carousel"] {
    overflow-x: auto !important;
    overflow-y: hidden !important;
  }

  [data-id="w-carousel"]::-webkit-scrollbar {
    height: 5px;
  }
  [data-id="w-carousel"]::-webkit-scrollbar-track {
    background: rgba(255,255,255,0.1);
  }
  [data-id="w-carousel"]::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.6);
    border-radius: 2px;
  }
</style>

<script type="module">
  const carousel = document.querySelector('[data-id="w-carousel"]');

  // Map vertical mouse wheel to horizontal scroll
  carousel.addEventListener("wheel", (e) => {
    e.preventDefault();
    carousel.scrollLeft += e.deltaY;
  });
</script>
