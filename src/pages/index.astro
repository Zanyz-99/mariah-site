---
const projects = [
  "/projects/01 Project One.png",
  "/projects/02 Project Two.png",
  "/projects/03 Project Three.png",
  "/projects/04 Project Four.png",
  "/projects/05 Project Five.png",
  "/projects/06 Project Six.png",
];
---

<section class="projects-wrap">
  <div class="projects-container" id="projects-carousel">
    {projects.map((src) => (
      <div class="project">
        <img src={src} alt={src} />
      </div>
    ))}
  </div>
</section>

<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: #000;
  }

  .projects-wrap {
    width: 100vw;
    height: 100vh;
    overflow-x: auto;
    overflow-y: hidden;
    display: flex;
    align-items: center;
    scroll-behavior: smooth;
  }

  /* Thin horizontal scrollbar */
  .projects-wrap::-webkit-scrollbar {
    height: 5px;
  }
  .projects-wrap::-webkit-scrollbar-track {
    background: rgba(255,255,255,0.1);
  }
  .projects-wrap::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.6);
    border-radius: 2px;
  }
  .projects-wrap {
    scrollbar-width: thin;
    scrollbar-color: rgba(255,255,255,0.6) rgba(255,255,255,0.1);
  }

  .projects-container {
    display: flex;
    gap: 2vw;
    padding-left: 15vw;  /* center first project */
    padding-right: 15vw; /* show partial last project */
  }

  .project {
    flex: 0 0 70vw;  /* 70% of viewport width */
    height: 70vh;     /* 70% of viewport height */
    border-radius: 10px;
    overflow: hidden;
  }

  .project img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>

<script type="module">
  const container = document.getElementById("projects-carousel");

  // Mouse wheel â†’ horizontal scroll
  container.addEventListener("wheel", (evt) => {
    evt.preventDefault();
    container.scrollLeft += evt.deltaY;
  });

  // Center first project on load
  const firstProject = container.querySelector(".project");
  if (firstProject) {
    const width = firstProject.offsetWidth + parseInt(getComputedStyle(firstProject).marginRight);
    container.scrollLeft = width;
  }
</script>
